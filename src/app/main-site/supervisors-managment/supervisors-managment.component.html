<h2 class="center">Supervisor Managment</h2>

<app-search (query)="onQuery($event)"></app-search>

<hr class="divider" />

<div class="add-new">
  <h4>Add new Supervisor</h4>
  <button class="btn-add" routerLink="/supervisors-managment/add">+</button>
</div>

<div *ngIf="isLoading; then Loading; else supervisorData"></div>

<ng-template #Loading>LOADING...</ng-template>

<ng-template #supervisorData>
  <div class="table-wrapper">
    <table class="supevisor-data" *ngIf="supervisors.length; else NoDataFound">
      <tr>
        <th>Name</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>

      <tr
        *ngFor="
          let supervisor of isSearching ? filteredSupervisors : supervisors
        "
      >
        <td>{{ supervisor.name }}</td>
        <td
          class="clickable"
          routerLink="/supervisors-managment/update"
          [queryParams]="{ _id: supervisor._id, name: supervisor.name }"
        >
          <i class="fa fa-pen"></i>
        </td>
        <td class="clickable" (click)="onSupervisorDelete(supervisor._id)">
          <i class="fa fa-trash"></i>
        </td>
      </tr>
    </table>
  </div>

  <ng-template #NoDataFound>
    <h6 class="error">No data Found</h6>
  </ng-template>
</ng-template>
